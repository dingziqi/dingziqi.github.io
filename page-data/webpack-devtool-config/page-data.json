{"componentChunkName":"component---src-templates-blog-post-js","path":"/webpack-devtool-config/","result":{"data":{"site":{"siteMetadata":{"title":"D.Z"}},"markdownRemark":{"id":"8879d3b6-43d3-5bae-8fb8-d96c26110377","excerpt":"什么是 sourceMap？ sourceMap 是一类用于描述文件压缩混淆前后内容映射的文件，它以 .map 为后缀名，内容为一个 JavaScript 对象。 sourceMap 的产生是由于现在前端开发过程中为了节省带宽，通常会对源码文件进行压缩和混淆，这就导致我们在浏览器中 debug…","html":"<h1 id=\"什么是-sourcemap\" style=\"position:relative;\"><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AF-sourcemap\" aria-label=\"什么是 sourcemap permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>什么是 sourceMap？</h1>\n<p>sourceMap 是一类用于描述文件压缩混淆前后内容映射的文件，它以 .map 为后缀名，内容为一个 JavaScript 对象。</p>\n<p>sourceMap 的产生是由于现在前端开发过程中为了节省带宽，通常会对源码文件进行压缩和混淆，这就导致我们在浏览器中 debug 代码时面对的是压缩和混淆后的代码。所以浏览器提供了一项 souceMap 能力，通过 map 文件来描述压缩文件和原始文件间内容的映射，这样我们在 source 面板下可以对原始文件进行打点调试。</p>\n<p>souceMap 并不仅限于 js 文件，css 也支持 sourceMap。</p>\n<h1 id=\"webpack-中的-sourcemap\" style=\"position:relative;\"><a href=\"#webpack-%E4%B8%AD%E7%9A%84-sourcemap\" aria-label=\"webpack 中的 sourcemap permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>webpack 中的 sourceMap</h1>\n<p>我们以 webpack@4 为例，我们可以通过 devTool 配置来控制如何生成 sourceMap。webpack 提供了很多种方式：source-map、cheap-source-map 等等。总的来说可以根据功能分类成以下几种：</p>\n<ol>\n<li>eval：源码以字符的形式被 eval(…) 来调用，不会生成 sourceMap 信息，只会通过一个 sourceURL 来存储原始文件的位置。</li>\n<li>source-map：会生成 sourceMap 信息，默认会输出到一个 .map 文件中，且源码中会通过 sourceMappingURL 来指定对应 map 文件位置。</li>\n<li>cheap：生成的 sourceMap 信息不包含列信息。</li>\n<li>module：生成的 sourceMap 信息还包含 loader 处理前后的映射信息，比如源码是 jsx，如果没有使用含 module 的 sourceMap，则只能解析回 js 形式，使用了含 module 的则可以解析回 jsx。</li>\n<li>inline: map 信息以 DataURI 的方式存放在源码文件中。\n具体各种值的打包效果可以参见参考 1。</li>\n</ol>\n<h1 id=\"踩坑\" style=\"position:relative;\"><a href=\"#%E8%B8%A9%E5%9D%91\" aria-label=\"踩坑 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>踩坑</h1>\n<p>使用了 react-hot-loader 需要使用 cheap-module-eval-source-map sourceMap 的行号映射才正确。</p>\n<p>#参考</p>\n<ol>\n<li>webpack 支持的各种 sourceMap 类型</li>\n</ol>","frontmatter":{"title":"详解 webpack devtool 配置","date":"05-17, 2019","description":null,"tags":"教程"}},"previous":{"fields":{"slug":"/code-check-with-git/"},"frontmatter":{"title":"JavaScript代码检查及与gulp、git的结合使用"}},"next":{"fields":{"slug":"/why-postmessage-execute-fail/"},"frontmatter":{"title":"postMessage execute fail 之谜"}}},"pageContext":{"id":"8879d3b6-43d3-5bae-8fb8-d96c26110377","previousPostId":"9ee3d28c-cf08-5377-b131-b0da5b71fdd8","nextPostId":"301309ee-eb7e-5ae2-8402-702bbd6c220c"}},"staticQueryHashes":["2841359383"]}